# Export Module (`frontend/src/export`)

Space JSON serialization for backend communication.

## Files

| File | Purpose |
|------|---------|
| `index.ts` | Re-exports `serializeToSpaceJSON` function and types |
| `serialize.ts` | Core serialization logic: Block array -> Space JSON string |

## Serialization Process (`serialize.ts`)

1. **Filter** - Only `placed === true` AND `isGround !== true` blocks
2. **Scale** - Three.js coordinates * 2 = Roblox studs (rounded to integers)
3. **Validate** - Skip blocks outside scaled bounds with console warning
4. **Format** - Output Space JSON with schemaVersion, name, blocks array

## Space JSON Schema

```typescript
interface SpaceJSON {
  schemaVersion: number  // 1 for MVP
  name?: string          // Level name (default: "Untitled Level")
  blocks: SpaceJSONBlockV1[]
}

interface SpaceJSONBlockV1 {
  x: number  // Roblox stud coordinates (scaled from Three.js)
  y: number
  z: number
  color: string  // Hex format: "#RRGGBB"
}

interface SpaceJSONBlockV2 extends SpaceJSONBlockV1 {
  tags?: string[]              // Future: game mechanic tags
  tagConfig?: Record<string, any>  // Future: tag configurations
}
```

## Coordinate Bounds (Scaled)

| Axis | Min | Max |
|------|-----|-----|
| X | -1000 | 1000 |
| Y | 0 | 1000 |
| Z | -1000 | 1000 |

## Related Files

- Backend models: `backend/src/models.rs`
- Block class: `terrain/mesh/block.ts`
- Constants: `constants.ts`
